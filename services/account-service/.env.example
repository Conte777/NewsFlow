# ============================================
# Account Service Configuration Template
# Version: 1.0.0
# Last updated: 2025-12-15
# ============================================
# This file contains all environment variables used by the account service.
# Copy this file to .env and fill in your actual values.

# ============================================
# Quick Start Guide
# ============================================
# 1. Copy this file: cp .env.example .env
# 2. Get Telegram credentials from https://my.telegram.org/apps
# 3. Fill in TELEGRAM_API_ID (numeric) and TELEGRAM_API_HASH
# 4. Add at least one phone number to TELEGRAM_ACCOUNTS
# 5. Configure Kafka brokers if not using localhost
# 6. Run the service: go run cmd/app/main.go

# ============================================
# SECURITY NOTICE
# ============================================
# Never commit .env file to version control!
# Keep your API credentials secure and private.
# Use different credentials for dev/staging/production.

# ============================================
# Telegram MTProto Configuration (REQUIRED)
# ============================================

# Telegram API ID - get from https://my.telegram.org/apps
# Must be a numeric value (integer)
# Example: 12345678
# TELEGRAM_API_ID=

# Telegram API Hash - get from https://my.telegram.org/apps
# Format: 32 hexadecimal characters
# Example: 1234567890abcdef1234567890abcdef
# TELEGRAM_API_HASH=

# Directory for storing Telegram session files
# Default: ./sessions
TELEGRAM_SESSION_DIR=./sessions

# Comma-separated list of phone numbers or session identifiers
# Format: +1234567890,+0987654321
# Note: Service can start without accounts, but won't collect news until accounts are added
# Example: +79001234567,+79007654321
# TELEGRAM_ACCOUNTS=

# Minimum number of accounts required to start service
# Default: 50% of total accounts (rounded up)
# Uncomment to override:
# TELEGRAM_MIN_REQUIRED_ACCOUNTS=1

# ============================================
# Kafka Configuration (REQUIRED)
# ============================================

# Comma-separated list of Kafka broker addresses
# Example: kafka1:9092,kafka2:9092,kafka3:9092
# Default: localhost:9093
KAFKA_BROKERS=localhost:9093

# Consumer group ID for subscription events
# Default: account-service-group
KAFKA_GROUP_ID=account-service-group

# ============================================
# Kafka Topics
# ============================================

# Topic for publishing collected news to news service
# Default: news.received
KAFKA_TOPIC_NEWS_RECEIVED=news.received

# Topic for consuming subscription created events
# Default: subscriptions.created
KAFKA_TOPIC_SUBSCRIPTIONS_CREATED=subscriptions.created

# Topic for consuming subscription deleted events
# Default: subscriptions.deleted
KAFKA_TOPIC_SUBSCRIPTIONS_DELETED=subscriptions.deleted

# ============================================
# Service Configuration
# ============================================

# Service name for logging and monitoring
# Default: account-service
SERVICE_NAME=account-service

# HTTP port for health checks and metrics (if implemented)
# Default: 8084
SERVICE_PORT=8084

# Graceful shutdown timeout
# Format: duration string (e.g., 30s, 1m, 1m30s)
# Default: 30s
SERVICE_SHUTDOWN_TIMEOUT=30s

# ============================================
# News Collection Settings
# ============================================

# Interval between news collection cycles
# Format: duration string (e.g., 30s, 1m, 5m)
# Default: 30s
# Recommended: 30s-60s to balance freshness and API limits
NEWS_POLL_INTERVAL=30s

# Timeout for a single news collection cycle
# Format: duration string
# Default: 5m
# Note: Should be larger than NEWS_POLL_INTERVAL
NEWS_COLLECTION_TIMEOUT=5m

# ============================================
# Logging Configuration
# ============================================

# Log level: debug, info, warn, error
# Default: info
# Recommended for production: info or warn
LOG_LEVEL=info
