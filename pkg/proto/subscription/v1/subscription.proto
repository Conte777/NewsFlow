syntax = "proto3";

package subscription.v1;

option go_package = "github.com/Conte777/NewsFlow/pkg/proto/subscription/v1;subscriptionv1";

// SubscriptionService provides subscription management operations
service SubscriptionService {
  // GetUserSubscriptions returns all active subscriptions for a user
  rpc GetUserSubscriptions(GetUserSubscriptionsRequest) returns (GetUserSubscriptionsResponse);
  // GetChannelSubscribers returns all users subscribed to a channel
  rpc GetChannelSubscribers(GetChannelSubscribersRequest) returns (GetChannelSubscribersResponse);
}

// GetUserSubscriptionsRequest is the request for GetUserSubscriptions
message GetUserSubscriptionsRequest {
  int64 user_id = 1;
}

// GetUserSubscriptionsResponse is the response for GetUserSubscriptions
message GetUserSubscriptionsResponse {
  repeated Subscription subscriptions = 1;
}

// Subscription represents a user's subscription to a channel
message Subscription {
  int64 user_id = 1;
  string channel_id = 2;
  string channel_name = 3;
  bool is_active = 4;
}

// GetChannelSubscribersRequest is the request for GetChannelSubscribers
message GetChannelSubscribersRequest {
  string channel_id = 1;
}

// GetChannelSubscribersResponse is the response for GetChannelSubscribers
message GetChannelSubscribersResponse {
  repeated int64 user_ids = 1;
}
